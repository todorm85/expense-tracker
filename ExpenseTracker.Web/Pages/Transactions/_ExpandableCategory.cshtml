@model ExpandableCategoryModel

@{
    var currentCategoryKey = ExpandableMonthModel.GetCategoryKey(Model.CategoryName);
    var rowClass = Model.IsNegativeBalance ? "" : "alert-success";
}

<div class="row @rowClass ml-1">
    <a class="text-dark btn btn-link text-left" onclick="onToggleElement('@Model.Id')" style="font-size:large">
        <span class="d-inline-block" style="min-width:9em">@currentCategoryKey</span>
        <partial name="_Summary" model="new decimal[] { Model.TotalExpense, Model.TotalIncome, Model.Balance }" />
    </a>
</div>

<div id="@Model.Id" style="display: none" class="row">
    <div class="col border">
        @if (Model.TransactionsList.Transactions.Count > 0)
        {
            <partial name="_Transactions" for="@Model.TransactionsList" />
        }

        @for (int ci = 0; ci < Model.Categories.Count(); ci++)
        {
            <partial name="_ExpandableCategory" for="@Model.Categories[ci]" />

        }
    </div>
</div>